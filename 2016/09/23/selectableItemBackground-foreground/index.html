<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>android使用selectableItemBackground的一些坑 | Haldir的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="android:foreground=”?android:attr/selectableItemBackground”

或是

android:background=”?android:attr/selectableItemBackground”

这个xml属性最早是我学着写recyclerVeiw的item xml的时候接触到的，简单来说就是，在API 21及以上，用户点击这个itemVi">
<meta property="og:type" content="article">
<meta property="og:title" content="android使用selectableItemBackground的一些坑">
<meta property="og:url" content="http://haldir65.github.io/2016/09/23/selectableItemBackground-foreground/index.html">
<meta property="og:site_name" content="Haldir的博客">
<meta property="og:description" content="android:foreground=”?android:attr/selectableItemBackground”

或是

android:background=”?android:attr/selectableItemBackground”

这个xml属性最早是我学着写recyclerVeiw的item xml的时候接触到的，简单来说就是，在API 21及以上，用户点击这个itemVi">
<meta property="og:image" content="https://cloud.githubusercontent.com/assets/12274855/18787855/2a6d93f2-81d7-11e6-8026-58cdbd8583d4.JPG">
<meta property="og:image" content="https://cloud.githubusercontent.com/assets/12274855/18787841/1d0b2d82-81d7-11e6-916e-b4113772c3a2.JPG">
<meta property="og:updated_time" content="2016-10-06T09:04:53.749Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="android使用selectableItemBackground的一些坑">
<meta name="twitter:description" content="android:foreground=”?android:attr/selectableItemBackground”

或是

android:background=”?android:attr/selectableItemBackground”

这个xml属性最早是我学着写recyclerVeiw的item xml的时候接触到的，简单来说就是，在API 21及以上，用户点击这个itemVi">
<meta name="twitter:image" content="https://cloud.githubusercontent.com/assets/12274855/18787855/2a6d93f2-81d7-11e6-8026-58cdbd8583d4.JPG">
  
    <link rel="alternative" href="/atom.xml" title="Haldir的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.png">
  
  <script src="/style.js"></script>
</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://odzl05jxx.bkt.clouddn.com/bolg_avatar.jpg" class="js-avatar show" style="width: 100%;height: 100%;opacity: 1;">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Haldir</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Android狗，python学习中</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/tags/android">文章</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">主页</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/Haldir65" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Haldir</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="nullhttp://odzl05jxx.bkt.clouddn.com/bolg_avatar.jpg" class="js-avatar" style="width: 100%;height: 100%;opacity: 1;">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Haldir</h1>
			</hgroup>
			
			<p class="header-subtitle">Android狗，python学习中</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/tags/android">文章</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Haldir65" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-selectableItemBackground-foreground" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      android使用selectableItemBackground的一些坑
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>android:foreground=”?android:attr/selectableItemBackground”</p>
</blockquote>
<p>或是</p>
<blockquote>
<p>android:background=”?android:attr/selectableItemBackground”</p>
</blockquote>
<p>这个xml属性最早是我学着写recyclerVeiw的item xml的时候接触到的，简单来说就是，在API 21及以上，用户点击这个itemView时候会出现一个Ripple效果<br>非常好看，而在API 21以下则会表现为MonoChrome的类似按压色的效果<img src="https://cloud.githubusercontent.com/assets/12274855/18787855/2a6d93f2-81d7-11e6-8026-58cdbd8583d4.JPG" alt=""> <br><br>而这个点击时的水波纹颜色也是可以Customize的</p>
<pre><code>&lt;item name=&quot;android:colorControlHighlight&quot;&gt;@color/my_ripple_color&lt;/item&gt;
</code></pre><p>//这个要写在自己的Activity的Theme(style-v21)里，注意，当前Activity的Theme必须继承自Appcompat!!<br>于是，我写了这样的xml</p>
<pre><code class="xml">&lt;LinearLayout
        android:id=&quot;@+id/item_root&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;?android:attr/listPreferredItemHeight&quot;
        android:orientation=&quot;vertical&quot;
        android:gravity=&quot;center&quot;
        android:onClick=&quot;@{(view) -&gt; callback.onClick(view,data)}&quot;
        android:elevation=&quot;2dp&quot;
        android:background=&quot;@color/md_amber_200&quot;
        android:foreground=&quot;?android:attr/selectableItemBackground&quot;
        /&gt;
</code></pre>
<p>然而，点击之后并没有出现水波纹(模拟器 API 21)，换成CardView或是将foreground改为background之后才有效。查了很多博客，最后得出结论:<br>android:foreground在API 23之前只对FrameLayout有效(CardView继承自FrameLayout当然有效)。<br><a id="more"></a></p>
<p>##所以正确的做法是</p>
<blockquote>
<p>android:foreground=”?android:attr/selectableItemBackground”</p>
</blockquote>
<p>改为</p>
<blockquote>
<p>android:background=”?android:attr/selectableItemBackground”</p>
</blockquote>
<p>或者使用FrameLayout。</p>
<ul>
<li><p>关于foreground<br>之前看google io2016时，<a href="https://github.com/chrisbanes" target="_blank" rel="external">Chris Banes</a>给了这样的解释。<br><img src="https://cloud.githubusercontent.com/assets/12274855/18787841/1d0b2d82-81d7-11e6-916e-b4113772c3a2.JPG" alt="">,<br>android:foreground在API 1 的FrameLayout中就有了，但直到API 23才将这个属性添加到View中。<br>所以，换成API 23的手机上面那段代码foreground也是可以出现Ripple的,至于23之前为什么foreground无效，并不清楚为什么</p>
</li>
<li><p>首先是一种简单的模拟这种视觉效果的尝试：<a href="http://effmx.com/articles/ru-he-chuang-jian-jian-rong-de-foreground-drawable-selectorshi-xian-layoutdian-ji-xiao-guo/" target="_blank" rel="external">如何创建兼容的Forefround drawable selector</a> 这篇文章提到了:</p>
<blockquote>
<p>简单来讲，Foreground 定义了绘制于当前内容之上的 Drawable，类似一层覆盖物。所以我们可以为设置 Foreground 的值为 drawable或者color， 那如果将 Froeground 设置为 drawable selector，自然就可以为控件实现点击响应效果了。 比较奇怪的是在 sdk 23 以前，foregrond 属性只对 Framelayout 生效，但这个问题现在得到了解决，所以也请确保你的 compileSdkVersion 大于等于23<br>  这篇文章的做法是针对21以下的版本使用slelector Drawable实现类似的效果</p>
</blockquote>
</li>
<li><p>如何真正实现为API23之前的View,ViewGroup添加foreground?<br>随后我找到了<a href="https://dzone.com/articles/adding-foreground-selector" target="_blank" rel="external">这篇博客</a>，具体的逻辑并不太多。<br>这里插一句，任何Drawable对象，在你调用setDrawable之后，该Drawable都会保留一个最后一个调用对象的callback</p>
<blockquote>
<p>Drawable-&gt;View-&gt;Context //leak!<br>//所以Drawable也有可能导致Activity leak</p>
</blockquote>
</li>
<li><p>随后我发现了更多有意思的讨论<br>首先是<a href="https://github.com/chrisbanes" target="_blank" rel="external">Chris Banes</a>在G+上的Post : <a href="https://plus.google.com/+ChrisBanes/posts/DRerZ8wEFuF" target="_blank" rel="external">Foreground Doge</a><br>他给出了两种方案,Chris作为Google员工，给出的解决方案应该是比较官方的了</p>
</li>
</ul>
<ol>
<li>如果想利用FrameLayout的foreground特性来实现点击特效的话，完全可以在自己的xml外面再包裹一层FrameLayout</li>
<li>自己动手写一个实现foreground的Viewgroup , <a href="https://gist.github.com/chrisbanes/9091754" target="_blank" rel="external">代码</a></li>
</ol>
<ul>
<li>attrs:<br>```&lt;?xml version=”1.0” encoding=”utf-8”?&gt;<br><resources><br>  <declare-styleable name="ForegroundLinearLayout"><pre><code>  &lt;attr name=&quot;android:foreground&quot; /&gt;
  &lt;attr name=&quot;android:foregroundInsidePadding&quot; /&gt;
  &lt;attr name=&quot;android:foregroundGravity&quot; /&gt;
</code></pre>  </declare-styleable><br></resources>```</li>
</ul>
<pre><code class="java">/* 
 * Copyright (C) 2006 The Android Open Source Project 
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); 
 * you may not use this file except in compliance with the License. 
 * You may obtain a copy of the License at 
 * 
 *      http://www.apache.org/licenses/LICENSE-2.0 
 * 
 * Unless required by applicable law or agreed to in writing, software 
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, 
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. 
 * See the License for the specific language governing permissions and 
 * limitations under the License. 
 */ 

package your.package; 

import android.content.Context;
import android.content.res.TypedArray;
import android.graphics.Canvas;
import android.graphics.Rect;
import android.graphics.drawable.Drawable;
import android.util.AttributeSet;
import android.view.Gravity;
import android.widget.LinearLayout;

import your.package.R; 

public class ForegroundLinearLayout extends LinearLayout {

    private Drawable mForeground;

    private final Rect mSelfBounds = new Rect();
    private final Rect mOverlayBounds = new Rect();

    private int mForegroundGravity = Gravity.FILL;

    protected boolean mForegroundInPadding = true;

    boolean mForegroundBoundsChanged = false;

    public ForegroundLinearLayout(Context context) {
        super(context);
    } 

    public ForegroundLinearLayout(Context context, AttributeSet attrs) {
        this(context, attrs, 0);
    } 

    public ForegroundLinearLayout(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);

        TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.ForegroundLinearLayout,
                defStyle, 0);

        mForegroundGravity = a.getInt(
                R.styleable.ForegroundLinearLayout_android_foregroundGravity, mForegroundGravity);

        final Drawable d = a.getDrawable(R.styleable.ForegroundLinearLayout_android_foreground);
        if (d != null) {
            setForeground(d);
        } 

        mForegroundInPadding = a.getBoolean(
                R.styleable.ForegroundLinearLayout_android_foregroundInsidePadding, true);

        a.recycle();
    } 

    /** 
     * Describes how the foreground is positioned. 
     * 
     * @return foreground gravity. 
     * 
     * @see #setForegroundGravity(int) 
     */ 
    public int getForegroundGravity() { 
        return mForegroundGravity;
    } 

    /** 
     * Describes how the foreground is positioned. Defaults to START and TOP. 
     * 
     * @param foregroundGravity See {@link android.view.Gravity} 
     * 
     * @see #getForegroundGravity() 
     */ 
    public void setForegroundGravity(int foregroundGravity) {
        if (mForegroundGravity != foregroundGravity) {
            if ((foregroundGravity &amp; Gravity.RELATIVE_HORIZONTAL_GRAVITY_MASK) == 0) {
                foregroundGravity |= Gravity.START;
            } 

            if ((foregroundGravity &amp; Gravity.VERTICAL_GRAVITY_MASK) == 0) {
                foregroundGravity |= Gravity.TOP;
            } 

            mForegroundGravity = foregroundGravity;


            if (mForegroundGravity == Gravity.FILL &amp;&amp; mForeground != null) {
                Rect padding = new Rect();
                mForeground.getPadding(padding);
            } 

            requestLayout();
        } 
    } 

    @Override 
    protected boolean verifyDrawable(Drawable who) {
        return super.verifyDrawable(who) || (who == mForeground);
    } 

    @Override 
    public void jumpDrawablesToCurrentState() { 
        super.jumpDrawablesToCurrentState(); 
        if (mForeground != null) mForeground.jumpToCurrentState();
    } 

    @Override 
    protected void drawableStateChanged() { 
        super.drawableStateChanged(); 
        if (mForeground != null &amp;&amp; mForeground.isStateful()) {
            mForeground.setState(getDrawableState());
        } 
    } 

    /** 
     * Supply a Drawable that is to be rendered on top of all of the child 
     * views in the frame layout.  Any padding in the Drawable will be taken 
     * into account by ensuring that the children are inset to be placed 
     * inside of the padding area. 
     * 
     * @param drawable The Drawable to be drawn on top of the children. 
     */ 
    public void setForeground(Drawable drawable) {
        if (mForeground != drawable) {
            if (mForeground != null) {
                mForeground.setCallback(null);
                unscheduleDrawable(mForeground);
            } 

            mForeground = drawable;

            if (drawable != null) {
                setWillNotDraw(false);
                drawable.setCallback(this);
                if (drawable.isStateful()) {
                    drawable.setState(getDrawableState());
                } 
                if (mForegroundGravity == Gravity.FILL) {
                    Rect padding = new Rect();
                    drawable.getPadding(padding);
                } 
            }  else { 
                setWillNotDraw(true);
            } 
            requestLayout();
            invalidate();
        } 
    } 

    /** 
     * Returns the drawable used as the foreground of this FrameLayout. The 
     * foreground drawable, if non-null, is always drawn on top of the children. 
     * 
     * @return A Drawable or null if no foreground was set. 
     */ 
    public Drawable getForeground() {
        return mForeground;
    } 

    @Override 
    protected void onLayout(boolean changed, int left, int top, int right, int bottom) {
        super.onLayout(changed, left, top, right, bottom);
        mForegroundBoundsChanged = changed;
    } 

    @Override 
    protected void onSizeChanged(int w, int h, int oldw, int oldh) {
        super.onSizeChanged(w, h, oldw, oldh);
        mForegroundBoundsChanged = true;
    } 

    @Override 
    public void draw(Canvas canvas) {
        super.draw(canvas);

        if (mForeground != null) {
            final Drawable foreground = mForeground;

            if (mForegroundBoundsChanged) {
                mForegroundBoundsChanged = false;
                final Rect selfBounds = mSelfBounds;
                final Rect overlayBounds = mOverlayBounds;

                final int w = getRight() - getLeft();
                final int h = getBottom() - getTop();

                if (mForegroundInPadding) {
                    selfBounds.set(0, 0, w, h);
                } else { 
                    selfBounds.set(getPaddingLeft(), getPaddingTop(),
                            w - getPaddingRight(), h - getPaddingBottom());
                } 

                Gravity.apply(mForegroundGravity, foreground.getIntrinsicWidth(),
                        foreground.getIntrinsicHeight(), selfBounds, overlayBounds);
                foreground.setBounds(overlayBounds);
            } 

            foreground.draw(canvas);
        } 
    } 
}
</code></pre>
<ul>
<li><p>使用方式</p>
<pre><code class="xml">&lt;your.package.ForegroundLinearLayout
  android:layout_width=&quot;match_parent&quot;
  android:layout_height=&quot;wrap_content&quot;
  android:foreground=&quot;?android:selectableItemBackground&quot;&gt;

  &lt;ImageView
      android:id=”@+id/imageview_opaque”
      android:layout_width=&quot;match_parent&quot;
      android:layout_height=&quot;wrap_content&quot; /&gt;

  ... other views ...
/&gt;
</code></pre>
</li>
<li><p>接着是<a href="https://github.com/JakeWharton" target="_blank" rel="external">Jack Wharton</a>的<a href="https://gist.github.com/JakeWharton/0a251d67649305d84e8a" target="_blank" rel="external">ForegroundImageView</a><br></p>
</li>
<li><p>attrs</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;resources&gt;
&lt;declare-styleable name=&quot;ForegroundImageView&quot;&gt;
  &lt;attr name=&quot;android:foreground&quot;/&gt;
&lt;/declare-styleable&gt;
&lt;/resources&gt;
</code></pre>
</li>
</ul>
<pre><code class="java">    import android.content.Context;
    import android.content.res.TypedArray;
    import android.graphics.Canvas;
    import android.graphics.drawable.Drawable;
    import android.util.AttributeSet;
    import android.widget.ImageView;

    public class ForegroundImageView extends ImageView {
      private Drawable foreground;

      public ForegroundImageView(Context context) {
        this(context, null);
      } 

      public ForegroundImageView(Context context, AttributeSet attrs) {
        super(context, attrs);

        TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.ForegroundImageView);
        Drawable foreground = a.getDrawable(R.styleable.ForegroundImageView_android_foreground);
        if (foreground != null) {
          setForeground(foreground);
        } 
        a.recycle();
      } 

      /** 
       * Supply a drawable resource that is to be rendered on top of all of the child 
       * views in the frame layout. 
       * 
       * @param drawableResId The drawable resource to be drawn on top of the children. 
       */ 
      public void setForegroundResource(int drawableResId) {
        setForeground(getContext().getResources().getDrawable(drawableResId));
      } 

      /** 
       * Supply a Drawable that is to be rendered on top of all of the child 
       * views in the frame layout. 
       * 
       * @param drawable The Drawable to be drawn on top of the children. 
       */ 
      public void setForeground(Drawable drawable) {
        if (foreground == drawable) {
          return; 
        } 
        if (foreground != null) {
          foreground.setCallback(null);
          unscheduleDrawable(foreground);
        } 

        foreground = drawable;

        if (drawable != null) {
          drawable.setCallback(this);
          if (drawable.isStateful()) {
            drawable.setState(getDrawableState());
          } 
        } 
        requestLayout();
        invalidate();
      } 

      @Override protected boolean verifyDrawable(Drawable who) {
        return super.verifyDrawable(who) || who == foreground;
      } 

      @Override public void jumpDrawablesToCurrentState() { 
        super.jumpDrawablesToCurrentState(); 
        if (foreground != null) foreground.jumpToCurrentState();
      } 

      @Override protected void drawableStateChanged() { 
        super.drawableStateChanged(); 
        if (foreground != null &amp;&amp; foreground.isStateful()) {
          foreground.setState(getDrawableState());
        } 
      } 

      @Override protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
        super.onMeasure(widthMeasureSpec, heightMeasureSpec);
        if (foreground != null) {
          foreground.setBounds(0, 0, getMeasuredWidth(), getMeasuredHeight());
          invalidate();
        } 
      } 

      @Override protected void onSizeChanged(int w, int h, int oldw, int oldh) {
        super.onSizeChanged(w, h, oldw, oldh);
        if (foreground != null) {
          foreground.setBounds(0, 0, w, h);
          invalidate();
        } 
      } 

      @Override public void draw(Canvas canvas) {
        super.draw(canvas);

        if (foreground != null) {
          foreground.draw(canvas);
        } 
      } 
    }
</code></pre>
<hr>
<p>最后，还有人给出据说更好的<a href="https://github.com/cesards/ForegroundViews" target="_blank" rel="external">解决方案</a><br>没有测试过，不了解</p>
<p>##reference</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=TIHXGwRTMWI" target="_blank" rel="external">Android themes and styles demisfied</a> 关于Theme和Style的区别的很好的学习资料</li>
<li><a href="https://plus.google.com/108967384991768947849/posts/aHPVDtr6mcp" target="_blank" rel="external">Chris Banes G+ post</a> 评论很精彩</li>
<li><a href="https://gist.github.com/shakalaca/6199283" target="_blank" rel="external">RelativeLayout with foreGround</a> 没测试过</li>
<li><a href="https://github.com/traex/RippleEffect" target="_blank" rel="external">Ripple Effect</a> 将Ripple的动画兼容到API 9+ ，很出色的一个库。之前项目中用过，就是一个继承自RelativeLayout的自定义ViewGroup。</li>
</ul>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/09/23/selectableItemBackground-foreground/" class="archive-article-date">
  	<time datetime="2016-09-23T11:56:39.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-09-23</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/foreground/">foreground</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/技术/">技术</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2016/09/27/activity-transition-pre-and-post-lollipop/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          activity transition pre and post lollipop
        
      </div>
    </a>
  
  
    <a href="/2016/09/22/replace-butterKnife-with-databinding/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">replace butterKnife with databinding</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>









      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Haldir
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: false,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: true,
		root: "/"
	}
</script>

<script src="/./main.js"></script>





    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/Butterknife/" style="font-size: 10px;">Butterknife</a> <a href="/tags/Handler-Message/" style="font-size: 10px;">Handler Message</a> <a href="/tags/RecyclerView/" style="font-size: 10px;">RecyclerView</a> <a href="/tags/TouchEvent/" style="font-size: 15px;">TouchEvent</a> <a href="/tags/Window/" style="font-size: 10px;">Window</a> <a href="/tags/android/" style="font-size: 20px;">android</a> <a href="/tags/android-7/" style="font-size: 10px;">android 7</a> <a href="/tags/databinding/" style="font-size: 10px;">databinding</a> <a href="/tags/foreground/" style="font-size: 10px;">foreground</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/service/" style="font-size: 10px;">service</a> <a href="/tags/statusBar/" style="font-size: 10px;">statusBar</a> <a href="/tags/transition/" style="font-size: 10px;">transition</a> <a href="/tags/坐标/" style="font-size: 10px;">坐标</a> <a href="/tags/随笔/" style="font-size: 10px;">随笔</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">友情链接1</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">友情链接2</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">友情链接3</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">友情链接4</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">友情链接5</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">友情链接6</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">很惭愧&lt;br&gt;&lt;br&gt;只做了一点微小的工作&lt;br&gt;谢谢大家</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>